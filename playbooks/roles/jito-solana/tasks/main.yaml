---
- name: jito solana repository
  become: true
  become_user: solana
  ansible.builtin.git:
    repo: "{{ jito_solana_repo }}"
    dest: /home/solana/jito-solana
    version: "v{{ solana_version }}-jito"
    recursive: yes
    update: yes

- name: build solana
  become: true
  become_user: solana
  shell: source /home/solana/.cargo/env && cargo build --release
  args:
    chdir: /home/solana/jito-solana
    executable: /bin/bash